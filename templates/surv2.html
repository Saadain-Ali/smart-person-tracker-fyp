{% extends 'base.html' %}
{% block title %} {{ title }} {% endblock %}


{%block head%}
{% include 'header.html' %}
{% endblock %}

<!-- for surv css -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/surv.css') }}">

<!-- NAVBAR -->
{% block navbar %} 
{% include 'nav.html' %}
{% endblock %}



{% block body %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/surv.js') }}"></script>



<div id="wrapper">
  {% include 'side-nav-wrapper.html' %}
  
  <!-- Page Content -->
  <div id="page-content-wrapper">
    <button type="button" class="hamburger animated fadeInLeft is-closed" data-toggle="offcanvas">
      <span class="ham-arrow fa fa-chevron-right"></span>
    </button>
    <div class="container-fluid m-3">
      <div class="row">
        <div id="popup">
          <i class="fa fa-gear" style="font-size: 2em;"></i>
          <iframe id="iframe" class="card"></iframe>
        </div>
        <div id='cams' class="col-12">
          <div class="row">
            
            {% for location , url in locations.items() %}

                <div class="box col-xs-12 col-sm-6 col-md-4 col-lg-6" align="center" >
                  <div class="card shadow mb-2 bg-white rounded">
                    <div class="card-header my-bg-blue-dark shadow text-white" id={{ location }}> <!--id="cafe1"> -->
                      <span align="center" class="text-white">{{ location }}</span>
    
                      <!-- <div id="cam1_name" class="alert alert-dismissable float-right" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="close">
                          <span aria-hidden="true">x</span>
                        </button>
                      </div> -->
                    </div>
    
                    <div class="card-body card-body-{{location}}">
                      
                      <div id="page">
                        {% if  not ("{}".format(url)).isdigit() %}
                          <a id='a' data-id= "{{ location }}" data-url="{{ url }}" href="#" class="float-right" data-toggle="tooltip" data-placement="bottom" title="IP cam Settings">
                            <i class="fa fa-gear" style="
                              font-size: 2em;
                            " title="{{ url }}"></i>
                          </a>
                        {% endif %}
                        
                        <br>
                      </div>
                      <br>
                      <img class="bg" src="{{ url_for('webcam', location = location) }}" data-id= "{{ location }}" style="width: 100%" onerror=this.src='static/images/Spiner.gif' />
                      <img src="static/images/Spiner.gif" class="spinner-{{ location }}">
               
                    </div>
    
                  </div>
                </div>

            {% endfor %}



            <!-- <div class="box col-xs-12 col-sm-6 col-md-4 col-lg-6">
              <div class="card shadow p-3 mb-2 bg-white rounded">

                <div id="cam1_name" class="alert alert-success alert-dismissable" role="alert">
                  <button type="button" class="close" data-dismiss="alert" aria-label="close">
                    <span aria-hidden="true">x</span>
                  </button>
                </div>
                <h3 align="center">Cafe 1</h3>
                <img id="bg" src="{{ url_for('webcam', location = 'corridor1') }}" onload="loadImage()" style="width: 100%" />
                <img src="static/images/Spiner.gif" class="spinner">
                <div class="container p-3">
                  <div class='element' id='div_1'>
                    <input type='text' placeholder='Student' id='txt_1'>&nbsp;<span class='add'>Last
                      Occurence</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="box col-xs-12 col-sm-6 col-md-4 col-lg-3">
              <div class="card shadow p-3 mb-2 bg-white rounded">
                <div id="cam2_name" class="alert alert-success alert-dismissable" role="alert">
                  <button type="button" class="close" data-dismiss="alert" aria-label="close">
                    <span aria-hidden="true">x</span>
                  </button>
                </div>
                <h3 align="center">Cam 2</h3>
                <img id="bg3" class="center" src="{{ url_for('video_viewer') }}" style="width: 100%" />
              </div>
            </div> -->

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
